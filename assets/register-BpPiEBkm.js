import{_ as u,f as l,g as a,h as e,u as g,x as c,i as o,v as r,j as m,z as p}from"./index-DgN9BqVy.js";const f={data(){return{name:"",email:"",password:"",confirm_password:"",error:null,loading:!1}},methods:{async handleSubmit(){if(this.loading=!0,this.error=null,this.password!==this.confirm_password){this.loading=!1,this.error="Passwords do not match";return}try{const s=await(await fetch("https://www.chrisouboter.com/api/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password,name:this.name})})).json();s.success?(this.error="",this.loading=!1,this.$router.push("/films")):this.error=s.message}catch(n){this.error="An error occurred: "+n.message}finally{this.loading=!1}}}},h={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},x={class:"bg-gray-600 shadow-xl bg-transparent-10 p-4 rounded-xl mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},w=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"}," Create an account ")],-1),y={class:"mt-10 bg-red-400 rounded-sm text-center text-lg text-white"},_=e("label",{for:"name",class:"block text-sm font-medium leading-6 text-white"},"Name",-1),b={class:"mt-2"},v=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email address",-1),k={class:"mt-2"},j=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),S={class:"mt-2"},V=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Confirm password")],-1),N={class:"mt-2"},q={type:"submit",class:"flex shadow-xl w-full justify-center rounded-md bg-violet-400 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-xl hover:bg-violet-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},C={key:0,class:"text-white"},T={key:1,class:"loading-screen"},U=e("i",{class:"fa-solid fa-spinner fa-spin-pulse fa-xl text-white"},null,-1),B=[U],P=e("p",{class:"mt-10 text-center text-sm text-white"},[p(" Already have a account? "+c(" ")+" "),e("a",{href:"/login",class:"font-semibold leading-6 text-indigo-300 hover:text-indigo-500"},"Login here")],-1);function A(n,s,D,E,t,d){return l(),a("div",h,[e("div",x,[w,e("form",{class:"space-y-6",onSubmit:s[4]||(s[4]=g((...i)=>d.handleSubmit&&d.handleSubmit(...i),["prevent"]))},[e("p",y,c(this.error),1),e("div",null,[_,e("div",b,[o(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.name=i),id:"name",name:"name",type:"name",required:"",class:"p-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[r,t.name]])])]),e("div",null,[v,e("div",k,[o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.email=i),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"p-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[r,t.email]])])]),e("div",null,[j,e("div",S,[o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>t.password=i),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"p-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-400 sm:text-sm sm:leading-6"},null,512),[[r,t.password]])]),V,e("div",N,[o(e("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>t.confirm_password=i),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"p-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-400 sm:text-sm sm:leading-6"},null,512),[[r,t.confirm_password]])])]),e("div",null,[e("button",q,[t.loading?m("",!0):(l(),a("div",C,"Register")),t.loading?(l(),a("div",T,B)):m("",!0)])])],32),P])])}const O=u(f,[["render",A]]);export{O as default};
