import{d as C,F,a as A,r as i,o as V,w as v,b as B,_ as I,e as x,f as d,g as f,h as e,i as y,v as L,s as S,t as $,j as k,k as b,l as M,m as N,n as U,p as D,q as E}from"./index-DgN9BqVy.js";const j=C({components:{FilmCard:F,Footer:A},setup(){const t=i([]),s=i(!1),n=i("All"),h=i(""),c=i(!1),u=()=>{a()},a=()=>{s.value=!0;const o="http://chrisouboter.com/api/user/favorites";let m=localStorage.getItem("token");B.post(o,{},{headers:{Authorization:`Bearer ${m}`}}).then(_=>{let r=_.data.data;n.value!=="All"&&(r=r.filter(g=>g.genre.toLowerCase().includes(n.value.toLowerCase()))),c.value&&(r=r.sort((g,w)=>g.title.localeCompare(w.title))),t.value=r}).catch(_=>{console.error("Error fetching films",_)}).finally(()=>{s.value=!1})},p=o=>{o.length===0?u():t.value=t.value.filter(m=>m.title.toLowerCase().includes(o.toLowerCase()))};return V(u),v(n,a),v(h,p),v(c,a),{data:t,loading:s,selected:n,search:h,alfa:c,fetchFilms:u,filter:a,searchData:p}}}),l=t=>(D("data-v-2ce81513"),t=t(),E(),t),q={class:"Films flex"},z={class:"filter-section fixed h-full p-4 w-1/12 shadow-lg backdrop-blur-lg"},H={class:"relative w-full m-auto"},O=l(()=>e("i",{class:"fa-solid fa-magnifying-glass absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},null,-1)),T={class:"rounded-xl"},Y=l(()=>e("h2",{class:"text-center mt-2 p-2 text-black dark:text-white"},"Filter genre",-1)),G=l(()=>e("option",null,"All",-1)),J=l(()=>e("option",null,"Animation",-1)),K=l(()=>e("option",null,"Action",-1)),P=l(()=>e("option",null,"Adventure",-1)),Q=l(()=>e("option",null,"Horror",-1)),R=[G,J,K,P,Q],W={class:"mt-2"},X=l(()=>e("label",{for:"choose-me",class:"select-none cursor-pointer rounded-lg border-2 border-gray-200 px-2 font-bold text-gray-200 transition-colors duration-200 ease-in-out peer-checked:bg-gray-200 peer-checked:text-gray-900 peer-checked:border-gray-200"}," Alphabetical ",-1)),Z={class:"film-content ml-1/4 w-3/4 p-4 fixed"},ee={key:0,class:"p-4 loading-screen"},te=l(()=>e("i",{class:"fa-solid fa-spinner fa-spin-pulse fa-xl text-gray-700 dark:text-white"},null,-1)),oe=[te],se=l(()=>e("h1",{class:"text-5xl font-bold py-4 text-gray-700 dark:text-white"},"Your favorites",-1)),le={key:1,class:"text-2xl text-gray-700 dark:text-white"},ae={class:"film-cards h-full overflow-auto"};function ne(t,s,n,h,c,u){const a=x("FilmCard"),p=x("Footer");return d(),f(b,null,[e("div",q,[e("div",z,[e("div",H,[O,y(e("input",{type:"text",class:"block w-full rounded-full py-1.5 pl-10 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-1 focus:ring-inset focus:ring-black sm:text-sm sm:leading-6",placeholder:"Search","onUpdate:modelValue":s[0]||(s[0]=o=>t.search=o)},null,512),[[L,t.search]])]),e("div",T,[Y,y(e("select",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.selected=o),class:"w-full p-2 rounded-full bg-gray-200"},R,512),[[S,t.selected]])]),e("div",W,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.alfa=o),type:"checkbox",id:"choose-me",class:"peer hidden"},null,512),[[$,t.alfa]]),X])]),e("div",Z,[t.loading?(d(),f("div",ee,oe)):k("",!0),se,!t.loading&&t.data.length===0?(d(),f("p",le," Oops, you don't have favorites yet! ")):k("",!0),e("div",ae,[(d(!0),f(b,null,M(t.data,o=>(d(),U(a,{key:o.id,film:o},null,8,["film"]))),128))])])]),N(p)],64)}const ie=I(j,[["render",ne],["__scopeId","data-v-2ce81513"]]);export{ie as default};
